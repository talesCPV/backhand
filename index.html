

<html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--      <meta name="viewport" content="width=device-width, initial-scale=1.0" /> -->
      <meta name="viewport" 
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

      <title>Backhand</title>
      <link rel="icon" href="assets/ball.png">
      
    
      <!--leafletjs-->
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""></script>

      <!-- Font-Awesome-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css" 
      integrity="sha512-q3eWabyZPc1XTCmF+8/LuE1ozpg5xxn7iO89yfSOd5/oKvyqLngoNGsx8jq92Y8eXJ/IRxQbEC+FGSYxtk2oiw==" 
      crossorigin="anonymous" 
      referrerpolicy="no-referrer" />

      <!--JQuery-->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

      <!--Local Libs-->
      <link rel="stylesheet" href="style/style.css" />
      <link rel="stylesheet" href="style/menu.css">
      <link rel="stylesheet" href="style/modal.css">
      <script src="scripts/smooth_scroll.js"></script>
      <script src="scripts/proto.js"></script>
      <script src="scripts/maps.js"></script>
      <script src="scripts/database.js"></script>
      <style>


        .head-activity{
          display:flex; 
          gap:10px;
        }


        .head-activity-atleta{
          font-weight: bold;
          text-transform: capitalize;
        }

        .head-activity-data{
          font-size: 0.9em;
        }

        .head-activity-img{
          width: 40px;
          height: 40px;
        }


        .post-activity{
          width: 100%;
          padding: 20px;
          background-color: white;
          border-radius: 5px;
        }

        .post-activity p{
          text-indent: 0;
          padding: 0;
        }

        .map-activity .leaflet-control-zoom{
          display: none;
        }
        
        .perfil-board{
          width: 100%;
          height: 300px;
          background-color: rgb(255, 255, 255);
          border-radius: 5px;
        }

        .perfil-img{
          display: flex;
          width: 100%;
          justify-content: center;
          top: -35px;
          position: relative;
        }

        .perfil-img img{
          width: 70px;
          height: 70px;
        }

        .perfil-nome{
          font-weight: bold;
          text-align: center;          
        }

        .perfil-dados{
          display: flex;
          justify-content: space-around;
        }

        .perfil-seguindo, .perfil-seguidores, .perfil-atividades{
          width: 30%;
          height: 100px;
          text-align: center;
          justify-content: center;
          display: flex;
          align-items: center;
          font-size: 0.8em;
          word-spacing: 30%;
          text-indent: unset;
        }

/* BTN KUDOS E SCRAP */
        .btn-social{
          margin: 0 !important;
        }

    </style>      
    </head>
    <body>

      <nav class="navbar">
        <div class="navbar-container container">
            <div class="logo">
              <img src="assets/logo.png">
            </div>
            <input type="checkbox" id="ckbHamb">
            <div class="hamburger-lines">
                <span class="line- line1"></span>
                <span class="line- line2"></span>
                <span class="line- line3"></span>
            </div>
            <div class="username">
              <p id="usr"></p>
            </div>
            <ul class="menu-items">
                <li class="only-login hide-menu"><a href="#dashboard"><i class="fas fa-home"></i></a></li>
                <li class="only-login hide-menu"><a onclick="social()"><i class="fas fa-user-friends"></i></a></li>
                <li class="only-login hide-menu" style="font-size: 1.8em;"><a onclick="addOne()"> <i class="fas fa-plus-circle"></i> </a></li>
                <li class="only-login hide-menu"><a onclick="viewUser()" class="parent-sub-menu"><img class="imgUser" id="imgUser" src="assets/user.jpeg"></a>
<!--                  <ul class="sub-menu"></ul>-->
                </li>
                <li><a id="log-inout" onclick="login()">Inscreva-se</a></li> 
            </ul>
            <p></p>
        </div>
      </nav>

      <div class="main-content"> 

        <section class="perfil hide">
          
          <div class="perfil-board">
            <div class="perfil-img">
              <img id="perfil-img" class="imgUser" src="">
            </div>            
            <div class="perfil-nome"></div>

            <div class="perfil-dados">
              <p class="perfil-seguindo"></p>
              <p class="perfil-seguidores"></p>
              <p class="perfil-atividades"></p>
            </div>


          </div>

        </section>

        <section class="dashboard"></section>
    
      </div>

      <footer id="footer">
        <h2>BackHand &copy; 
          <br>create by Tales Cembraneli Dantas
        </h2>
      </footer>

      <div id="myModal"></div>

    </body>
    <script src="scripts/modal.js"></script>
    <script src="scripts/menu.js"></script>
    <script src="scripts/main.js"></script>
    <script>


      if (location.protocol !== 'https:') {
          location.replace(`https:${location.href.substring(location.protocol.length)}`);
      }

      function openScreen(hide = true){

        if(hide){
          document.querySelector('#footer').style.display = 'none'
          document.querySelector('.perfil').style.display = 'none'
          document.querySelector('.dashboard').style.width = '100%'
          document.querySelector('#log-inout').innerHTML = 'Inscreva-se'
        }else{
          document.querySelector('#footer').style.display = 'block'
          document.querySelector('.perfil').style.display = 'block'
          document.querySelector('.dashboard').style.width = 'calc(100vw - 320px)'
          document.querySelector('#log-inout').innerHTML = 'Sair'
        }

        const menu = document.querySelectorAll('.only-login')
        for(let i=0; i<menu.length; i++){
            hide ? menu[i].classList.add('hide-menu') : menu[i].classList.remove('hide-menu')
        }

      }

      navigator.geolocation.getCurrentPosition((latlng)=>{
          mainData.data = new Object
          mainData.data.lat = latlng.coords.latitude
          mainData.data.lng = latlng.coords.longitude
      })

      if(localStorage.getItem('idUser') == null){
        openHTML('noLogin.html','screen')
        openScreen()      
      }else{

        openHTML('dashboard.html','screen')
        fillPerfil(localStorage.getItem('idUser'))
        loadActivity(100,0,10)
        openScreen(false)
      }


      function login(){
        if(localStorage.getItem('idUser') == null){
          openHTML('novoUser.html','modal')           
        }else{        
          localStorage.clear();
          document.querySelector('#footer').style.display = 'none'
          document.querySelector('.dashboard').style.width = '100%'
          document.querySelector('#log-inout').innerHTML = 'Inscreva-se'
          openHTML('noLogin.html','screen')
          openScreen()
        }
      }

      function addOne(){
        openHTML('newActivity.html','modal',null,400)
      }

      function viewUser(){
        openHTML('viewUser.html','modal',null,400)
      }

      function social(){
        openHTML('social.html','modal')
      }

    </script>
  </html>
  
  